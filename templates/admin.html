<!DOCTYPE html>
<html>
            <head></head>
                
            <script>
                window.onload = function () {
                
                var chart = new CanvasJS.Chart("chartContainer", {
                    exportEnabled: true,
                    animationEnabled: true,
                    title:{
                        text: "proportion"
                    },
                    legend:{
                        cursor: "pointer",
                        itemclick: explodePie
                    },
                    data: [{
                        type: "pie",
                        showInLegend: true,
                        toolTipContent: "{name}: <strong>{y}%</strong>",
                        indexLabel: "{name} - {y}%",
                        dataPoints: [
                            { y: 25, name: "TYLENOL", exploded: true },
                            { y: 35, name: "TEST2" },
                            { y: 65, name: "CALAMINE" }
                        ]
                    }]
                });
                chart.render();
                }
                
                function explodePie (e) {
                    if(typeof (e.dataSeries.dataPoints[e.dataPointIndex].exploded) === "undefined" || !e.dataSeries.dataPoints[e.dataPointIndex].exploded) {
                        e.dataSeries.dataPoints[e.dataPointIndex].exploded = true;
                    } else {
                        e.dataSeries.dataPoints[e.dataPointIndex].exploded = false;
                    }
                    e.chart.render();
                
                }
                </script>

<body>
    <h1>WELCOME ADMIN</h1>

    <a href="/products_manage">Manage Product</a>
    <a href="/logout">logout</a>
    <div id="row">
        <div id="left">
            <div id="content-left">
                <h2>Product Stock Levels</h2>
	                <canvas id="myCanvas" width="400" height="300"></canvas>
            </div>
        </div>
	</div>
            <div id="content-left">
                <h2>Number of products purchased by customers</h2>
                <div id="chartContainer" style="height: 370px; width: 400;"></div>
            </div>
    <div>

        <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
	<script>
		// Get the canvas element
		var canvas = document.getElementById("myCanvas");

		// Set the context to 2D
		var ctx = canvas.getContext("2d");

		// Set the bar width and spacing
		var barWidth = 50;
		var barSpacing = 10;

		// Set the data for the graph
        var data = [
        { item: "TYLENOL ", quantity: 10 },			
        { item: "Chlorpheniramine", quantity: 20 },			
        { item: "Calamine", quantity: 10 },			
        { item: "test", quantity: 6 },			
        { item: "test2", quantity: 10 }		];

		// Set the starting point for the bars
		var x = 70;
		var y = canvas.height - 50;

		// Set the starting point for the y-axis
		var yAxisX = 60;
		var yAxisY = 20;

		// Set the starting point for the x-axis
		var xAxisX = 70;
		var xAxisY = y + 20;

		// Set the maximum quantity for the y-axis
		var maxQuantity = Math.max.apply(Math, data.map(function(o) { return o.quantity; }));

		// Set the y-axis scale
		var yScale = (y - yAxisY) / maxQuantity;

		// Draw the y-axis
		ctx.beginPath();
		ctx.moveTo(yAxisX, yAxisY);
		ctx.lineTo(yAxisX, y);
		ctx.stroke();

		// Draw the y-axis numbers
		ctx.textAlign = "right";
		ctx.textBaseline = "middle";
		for (var i = 0; i <= maxQuantity; i += 5) {
			var yPos = y - i * yScale;
			ctx.fillText(i, yAxisX - 10, yPos);
			ctx.beginPath();
			ctx.moveTo(yAxisX - 5, yPos);
			ctx.lineTo(yAxisX, yPos);
			ctx.stroke();
		}

		// Draw the x-axis
		ctx.beginPath();
		ctx.moveTo(xAxisX, xAxisY);
		ctx.lineTo(canvas.width - 20, xAxisY);
		ctx.stroke();

		// Draw the x-axis labels and bars
		ctx.textAlign = "center";
		ctx.textBaseline = "top";
		for (var i = 0; i < data.length; i++) {
			// Set the bar height based on the quantity
			var barHeight = data[i].quantity * yScale;

			// Save the current context
			ctx.save();

			// Rotate the context
			ctx.translate(x + barWidth / 2, xAxisY + 10);
			ctx.rotate(-Math.PI / 4);

			// Draw the label
			ctx.fillStyle = "black";
			ctx.fillText(data[i].item, 0, 0);

			// Restore the context
			ctx.restore();

			// Define an array of 10 random colors
var colors = [
  "rgb(" + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + ")",
  "rgb(" + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + ")",
  "rgb(" + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + ")",
  "rgb(" + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + ")",
  "rgb(" + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + ")",
  "rgb(" + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + ")",
  "rgb(" + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + ")",
  "rgb(" + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + ")",
  "rgb(" + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + ")",
  "rgb(" + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + ")"
];

// Draw the x-axis labels and bars
ctx.textAlign = "center";
ctx.textBaseline = "top";
for (var i = 0; i < data.length; i++) {
    // Set the bar height based on the quantity
    var barHeight = data[i].quantity * yScale;

    // Save the current context
    ctx.save();

    // Rotate the context
    ctx.translate(x + barWidth / 2, xAxisY + 10);
    ctx.rotate(-Math.PI / 4);

    // Draw the label
    ctx.fillStyle = "black";
    ctx.fillText(data[i].item, 0, 0);

    // Restore the context
    ctx.restore();

    // Set a random color for the bar
    ctx.fillStyle = colors[i];

    // Draw the bar
    ctx.fillRect(x, y - barHeight, barWidth, barHeight);

    // Move to the next bar
    x += barWidth + barSpacing;
}

		}
        // Get the data for the chart
var chartData = {
    labels: ["TYLENOL", "Chlorpheniramine", "Calamine", "test", "test2"],
    datasets: [{
        data: [10, 20, 10, 6, 10],
        backgroundColor: [
            'rgb(255, 99, 132)',
            'rgb(54, 162, 235)',
            'rgb(255, 205, 86)',
            'rgb(75, 192, 192)',
            'rgb(153, 102, 255)'
        ],
        hoverOffset: 4
    }]
};

// Create the chart
var donutChart = new Chart(document.getElementById('donutGraph'), {
    type: 'doughnut',
    data: chartData,
    options: {
        responsive: true,
        plugins: {
            legend: {
                position: 'bottom'
            },
            title: {
                display: true,
                text: 'Number of products recently purchased by users'
            }
        }
    }
});

	</script>

</body>

</html>